# Система модерации NextgenChat

## Обзор

Система модерации предоставляет инструменты для управления чатом сервера с помощью команд мута и размута игроков.

## Быстрый старт

Для получения полной справки по всем командам мода используйте:
```
/nextgenchat help
```

Эта команда покажет:
- Все доступные команды
- Примеры использования
- Статус систем
- Информацию о конфигурации
- Плейсхолдеры автобродкаста

## Команды

### `/mute` - Заблокировать игрока в чате

**Синтаксис:**
```
/mute <игрок> [время] [причина]
```

**Параметры:**
- `<игрок>` - имя игрока для блокировки (обязательно)
- `[время]` - длительность блокировки (необязательно, по умолчанию 1 час)
- `[причина]` - причина блокировки (необязательно)

**Примеры:**
```
/mute PlayerName                    # Блокировка на 1 час
/mute PlayerName 30m               # Блокировка на 30 минут
/mute PlayerName 2h                # Блокировка на 2 часа
/mute PlayerName 1d                # Блокировка на 1 день
/mute PlayerName 1w                # Блокировка на 1 неделю
/mute PlayerName 1h Спам в чате    # Блокировка с причиной
```

### `/unmute` - Разблокировать игрока

**Синтаксис:**
```
/unmute <игрок>
```

**Параметры:**
- `<игрок>` - имя игрока для разблокировки

**Пример:**
```
/unmute PlayerName
```

### `/mutelist` - Список заблокированных игроков

**Синтаксис:**
```
/mutelist
```

**Описание:**
Показывает список всех заблокированных игроков с информацией о времени блокировки и причине.

## Форматы времени

Поддерживаются следующие форматы времени:

- `m` - минуты (например: `30m`)
- `h` - часы (например: `2h`)
- `d` - дни (например: `1d`)
- `w` - недели (например: `1w`)

## Права доступа

Все команды модерации требуют права оператора (OP) уровня 2 или выше.

## Уведомления

### Для заблокированного игрока:
- Сообщение о блокировке с указанием времени и причины
- При попытке написать в чат - уведомление о блокировке

### Для модератора:
- Подтверждение успешной блокировки/разблокировки
- Уведомление об ошибках (игрок уже заблокирован, не найден и т.д.)

### Для администрации:
- Уведомления о действиях модерации (если включено в конфиге)
- Логирование всех действий в консоль сервера

## Настройки

### Основные параметры:
- `enableModeration` - включить/выключить систему модерации
- `saveMuteData` - сохранять данные о мутах в файл
- `defaultMuteDuration` - время блокировки по умолчанию

### Сообщения:
- `muteMessage` - сообщение для заблокированного игрока
- `unmuteMessage` - сообщение при разблокировке
- `muteNotification` - уведомление о блокировке
- `unmuteNotification` - уведомление о разблокировке

### Дополнительные:
- `notifyStaffOnMute` - уведомлять администрацию
- `logMuteActions` - логировать действия в консоль

## Автоматические функции

### Очистка истекших мутов
Система автоматически удаляет истекшие блокировки каждые 5 секунд.

### Сохранение данных
При включенной опции `saveMuteData` все муты сохраняются в файл `nextgenchat_mutes.json` и восстанавливаются при перезапуске сервера.

## Примеры использования

### Типичные сценарии:

**1. Спам в чате:**
```
/mute Spammer 30m Спам в чате
```

**2. Нарушение правил:**
```
/mute RuleBreaker 2h Нарушение правил сервера
```

**3. Временная блокировка:**
```
/mute TempUser 1d Временная блокировка
```

**4. Длительная блокировка:**
```
/mute ProblemUser 1w Серьезное нарушение
```

**5. Разблокировка:**
```
/unmute PlayerName
```

**6. Проверка списка:**
```
/mutelist
```

## Советы по модерации

1. **Всегда указывайте причину** - это помогает игрокам понять, за что они заблокированы
2. **Используйте адекватное время** - не блокируйте на слишком долгий срок за мелкие нарушения
3. **Проверяйте список** - регулярно используйте `/mutelist` для контроля
4. **Логируйте действия** - включите логирование для отслеживания действий модерации
5. **Уведомляйте администрацию** - держите других модераторов в курсе действий 